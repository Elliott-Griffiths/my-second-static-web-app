<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Vanilla JavaScript App</title>
</head>

<body>
  <main>
    <h1>Vanilla JavaScript App</h1>
    <p>Loading content from the API: <b id="name">...</b></p>
  </main>

  <script>
    console.log('loaded');
    document.getElementById("sendValueButton").addEventListener("click", function () {
      const valueToPass = "your_value"; // Replace with the value you want to pass

      // Make a POST request to a server that can log the value
      const xhr = new XMLHttpRequest();
      xhr.open("POST", "https://your-server-url.com/log-value", true);
      xhr.setRequestHeader("Content-Type", "application/json");

      const data = JSON.stringify({ value: valueToPass });

      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            console.log("Value sent and logged on the server.");
          } else {
            console.error("Request failed with status: " + xhr.status);
          }
        }
      };

      xhr.send(data);
    // (async function () {
    //   try {
    //     const response = await fetch('/api/message');
    //     if (!response.ok) {
    //       throw new Error('Network response was not ok');
    //     }
    //     const { text } = await response.json();
    //     document.querySelector('#name').textContent = text;
    //   } catch (error) {
    //     console.error('An error occurred:', error);
    //   }
    // })();

    // (async function () {
    //   try {
    //     const url = "https://prod-53.westeurope.logic.azure.com:443/workflows/95a71f5b59d94a93bd3edd21eaf19364/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=w_n1tWAz8b9ovEjYN32ZYDQJ1H-9K4ARKcqsrKeVFuc";

    //     const requestBody = {
    //       Files: [
    //         {
    //           fileName: "fileUploadTests.jpg",
    //           fileContent: {
    //             content: "test",
    //           },
    //           caseReference: "67890",
    //           serviceName: "Testing",
    //         },
    //       ],
    //     };

    //     const response = await fetch(url, {
    //       method: "POST",
    //       headers: {
    //         "Content-Type": "application/json",
    //       },
    //       body: JSON.stringify(requestBody),
    //     });

    //     if (!response.ok) {
    //       throw new Error("Network response was not ok");
    //     }

    //     const responseData = await response.json();

    //     // responseData is an array, so you can access its elements
    //     responseData.forEach((fileOutput) => {
    //       console.log("File Name:", fileOutput.fileName);
    //       console.log("File Path:", fileOutput.filePath);
    //       console.log("File Id:", fileOutput.fileId);
    //     });

    //   } catch (error) {
    //     console.error("An error occurred:", error);
    //   }
    // })();


  </script>
</body>

</html>